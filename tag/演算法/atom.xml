<?xml version="1.0"?>
<feed xmlns="http://www.w3.org/2005/Atom">
    <id>http://gitqwerty777.github.io</id>
    <title>QWERTY • Posts by &#34;演算法&#34; tag</title>
    <link href="http://gitqwerty777.github.io" />
    <updated>2022-01-15T10:12:50.000Z</updated>
    <category term="C#" />
    <category term="CodingStyle" />
    <category term="Emacs" />
    <category term="編輯器" />
    <category term="CFR" />
    <category term="電腦對局理論" />
    <category term="指令" />
    <category term="機器學習" />
    <category term="perceptron" />
    <category term="readme" />
    <category term="文件" />
    <category term="github" />
    <category term="artificial intelligence" />
    <category term="search" />
    <category term="First-Order Logic" />
    <category term="大數" />
    <category term="程式" />
    <category term="C++" />
    <category term="Hexo" />
    <category term="網誌" />
    <category term="Markdown" />
    <category term="CleanCode" />
    <category term="重構" />
    <category term="TDD" />
    <category term="設計模式" />
    <category term="CMake" />
    <category term="Makefile" />
    <category term="Linux" />
    <category term="Todo" />
    <category term="註解" />
    <category term="經濟學" />
    <category term="策略" />
    <category term="競爭" />
    <category term="博弈論" />
    <category term="計算機結構" />
    <category term="人工智慧" />
    <category term="圍棋" />
    <category term="象棋" />
    <category term="蒙地卡羅" />
    <category term="Alpha-Beta搜尋" />
    <category term="強化學習" />
    <category term="計算機網路" />
    <category term="boost" />
    <category term="函式庫" />
    <category term="編譯" />
    <category term="gcc" />
    <category term="g++" />
    <category term="clang" />
    <category term="最佳化" />
    <category term="推薦系統" />
    <category term="FM" />
    <category term="FFM" />
    <category term="SVM" />
    <category term="Embedding" />
    <category term="自然語言處理" />
    <category term="外國用語" />
    <category term="萌典" />
    <category term="opencc" />
    <category term="PTT" />
    <category term="vuejs" />
    <category term="linux" />
    <category term="c" />
    <category term="compile" />
    <category term="gdb" />
    <category term="c語言" />
    <category term="cpp" />
    <category term="除錯" />
    <category term="git" />
    <category term="VMWare" />
    <category term="虛擬機" />
    <category term="IFTTT" />
    <category term="自動化" />
    <category term="備份" />
    <category term="webhook" />
    <category term="簡報" />
    <category term="軟體" />
    <category term="PowerPoint" />
    <category term="Latex" />
    <category term="JavaScript" />
    <category term="CSS" />
    <category term="Unity" />
    <category term="fcitx" />
    <category term="嘸蝦米" />
    <category term="輸入法" />
    <category term="硬碟" />
    <category term="記憶體" />
    <category term="效能" />
    <category term="錯誤" />
    <category term="makefile" />
    <category term="備忘錄" />
    <category term="存檔" />
    <category term="統計" />
    <category term="byobu" />
    <category term="screen" />
    <category term="tmux" />
    <category term="reactjs" />
    <category term="javascript" />
    <category term="WideAndDeep" />
    <category term="Google" />
    <category term="觀察者" />
    <category term="訂閱" />
    <category term="委託" />
    <category term="正規表示式(RegExp)" />
    <category term="上下文無關文法(CFG)" />
    <category term="hexo" />
    <category term="blog" />
    <category term="theme" />
    <category term="feature" />
    <category term="revealJS" />
    <category term="markdown" />
    <category term="rss" />
    <category term="facebook" />
    <category term="youtube" />
    <category term="ptt" />
    <category term="bilibili" />
    <category term="pixiv" />
    <category term="crawler" />
    <category term="SEO" />
    <category term="google" />
    <category term="html" />
    <category term="amazon" />
    <category term="webhost" />
    <category term="ssl" />
    <category term="漢字" />
    <category term="中文" />
    <category term="異體字" />
    <category term="unicode" />
    <category term="unity" />
    <category term="演算法" />
    <category term="隨機排序" />
    <category term="洗牌" />
    <category term="Fisher-Yates" />
    <category term="證明" />
    <category term="python" />
    <entry>
        <id>http://gitqwerty777.github.io/why-linear-shuffle-works/</id>
        <title>隨機排序演算法實作</title>
        <link rel="alternate" href="http://gitqwerty777.github.io/why-linear-shuffle-works/"/>
        <content type="html">&lt;h2 id=&#34;簡介&#34;&gt;&lt;a href=&#34;#簡介&#34; class=&#34;headerlink&#34; title=&#34;簡介&#34;&gt;&lt;/a&gt;簡介&lt;/h2&gt;&lt;p&gt;說到隨機排序(shuffle)演算法，最著名的肯定是Fisher–Yates，它是一個$O(N)$時間的演算法，偽碼如下&lt;/p&gt;
&lt;a id=&#34;more&#34;&gt;&lt;/a&gt;
&lt;figure class=&#34;highlight reasonml&#34;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&#34;code&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;constructor&#34;&gt;Shuffle(Array &lt;span class=&#34;params&#34;&gt;a&lt;/span&gt;)&lt;/span&gt;&amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;    N = a.length&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;    for (i = &lt;span class=&#34;number&#34;&gt;0&lt;/span&gt; ~ N-&lt;span class=&#34;number&#34;&gt;1&lt;/span&gt;)&amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;        &lt;span class=&#34;constructor&#34;&gt;Swap(&lt;span class=&#34;params&#34;&gt;a&lt;/span&gt;[&lt;span class=&#34;params&#34;&gt;i&lt;/span&gt;], &lt;span class=&#34;params&#34;&gt;a&lt;/span&gt;[Random &lt;span class=&#34;params&#34;&gt;value&lt;/span&gt; &lt;span class=&#34;params&#34;&gt;between&lt;/span&gt; &lt;span class=&#34;params&#34;&gt;i&lt;/span&gt; &lt;span class=&#34;params&#34;&gt;and&lt;/span&gt; N])&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;    &amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&amp;#125;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;

&lt;p&gt;簡單來說就是每個元素都和之後(包含自身)的隨機一個元素交換&lt;/p&gt;
&lt;h2 id=&#34;實作&#34;&gt;&lt;a href=&#34;#實作&#34; class=&#34;headerlink&#34; title=&#34;實作&#34;&gt;&lt;/a&gt;實作&lt;/h2&gt;&lt;figure class=&#34;highlight python&#34;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&#34;code&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;keyword&#34;&gt;import&lt;/span&gt; random&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;N = &lt;span class=&#34;number&#34;&gt;10&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;function&#34;&gt;&lt;span class=&#34;keyword&#34;&gt;def&lt;/span&gt; &lt;span class=&#34;title&#34;&gt;Shuffle&lt;/span&gt;&lt;span class=&#34;params&#34;&gt;(arr)&lt;/span&gt;:&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;    &lt;span class=&#34;keyword&#34;&gt;for&lt;/span&gt; i &lt;span class=&#34;keyword&#34;&gt;in&lt;/span&gt; range(N&lt;span class=&#34;number&#34;&gt;-1&lt;/span&gt;):&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;        j = random.randint(i, N&lt;span class=&#34;number&#34;&gt;-1&lt;/span&gt;)&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;        arr[i], arr[j] = arr[j], arr[i]&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;total = [[&lt;span class=&#34;number&#34;&gt;0&lt;/span&gt; &lt;span class=&#34;keyword&#34;&gt;for&lt;/span&gt; i &lt;span class=&#34;keyword&#34;&gt;in&lt;/span&gt; range(N)] &lt;span class=&#34;keyword&#34;&gt;for&lt;/span&gt; j &lt;span class=&#34;keyword&#34;&gt;in&lt;/span&gt; range(N)]&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;keyword&#34;&gt;for&lt;/span&gt; t &lt;span class=&#34;keyword&#34;&gt;in&lt;/span&gt; range(&lt;span class=&#34;number&#34;&gt;1000000&lt;/span&gt;):&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;    arr = [i &lt;span class=&#34;keyword&#34;&gt;for&lt;/span&gt; i &lt;span class=&#34;keyword&#34;&gt;in&lt;/span&gt; range(N)]&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;    Shuffle(arr)&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;    &lt;span class=&#34;keyword&#34;&gt;for&lt;/span&gt; i, v &lt;span class=&#34;keyword&#34;&gt;in&lt;/span&gt; enumerate(arr):&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;        total[v][i] += &lt;span class=&#34;number&#34;&gt;1&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;keyword&#34;&gt;for&lt;/span&gt; i &lt;span class=&#34;keyword&#34;&gt;in&lt;/span&gt; range(N):&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;    print(&lt;span class=&#34;string&#34;&gt;f&#34;數字&lt;span class=&#34;subst&#34;&gt;&amp;#123;i&amp;#125;&lt;/span&gt;分佈&#34;&lt;/span&gt;)&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;    print(&lt;span class=&#34;string&#34;&gt;&#34;,&#34;&lt;/span&gt;.join(str(v) &lt;span class=&#34;keyword&#34;&gt;for&lt;/span&gt; v &lt;span class=&#34;keyword&#34;&gt;in&lt;/span&gt; total[i]))&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;

&lt;p&gt;執行1000000次Shuffle，各數字的分布&lt;/p&gt;
&lt;figure class=&#34;highlight angelscript&#34;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&#34;code&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;數字&lt;span class=&#34;number&#34;&gt;0&lt;/span&gt;分佈&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;number&#34;&gt;99656&lt;/span&gt;,&lt;span class=&#34;number&#34;&gt;99624&lt;/span&gt;,&lt;span class=&#34;number&#34;&gt;100636&lt;/span&gt;,&lt;span class=&#34;number&#34;&gt;100081&lt;/span&gt;,&lt;span class=&#34;number&#34;&gt;99957&lt;/span&gt;,&lt;span class=&#34;number&#34;&gt;100149&lt;/span&gt;,&lt;span class=&#34;number&#34;&gt;100238&lt;/span&gt;,&lt;span class=&#34;number&#34;&gt;100287&lt;/span&gt;,&lt;span class=&#34;number&#34;&gt;99710&lt;/span&gt;,&lt;span class=&#34;number&#34;&gt;99662&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;數字&lt;span class=&#34;number&#34;&gt;1&lt;/span&gt;分佈&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;number&#34;&gt;100043&lt;/span&gt;,&lt;span class=&#34;number&#34;&gt;100292&lt;/span&gt;,&lt;span class=&#34;number&#34;&gt;99499&lt;/span&gt;,&lt;span class=&#34;number&#34;&gt;100262&lt;/span&gt;,&lt;span class=&#34;number&#34;&gt;100141&lt;/span&gt;,&lt;span class=&#34;number&#34;&gt;99847&lt;/span&gt;,&lt;span class=&#34;number&#34;&gt;100098&lt;/span&gt;,&lt;span class=&#34;number&#34;&gt;100164&lt;/span&gt;,&lt;span class=&#34;number&#34;&gt;99655&lt;/span&gt;,&lt;span class=&#34;number&#34;&gt;99999&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;數字&lt;span class=&#34;number&#34;&gt;2&lt;/span&gt;分佈&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;number&#34;&gt;100032&lt;/span&gt;,&lt;span class=&#34;number&#34;&gt;100412&lt;/span&gt;,&lt;span class=&#34;number&#34;&gt;99857&lt;/span&gt;,&lt;span class=&#34;number&#34;&gt;100035&lt;/span&gt;,&lt;span class=&#34;number&#34;&gt;100148&lt;/span&gt;,&lt;span class=&#34;number&#34;&gt;99738&lt;/span&gt;,&lt;span class=&#34;number&#34;&gt;100139&lt;/span&gt;,&lt;span class=&#34;number&#34;&gt;99765&lt;/span&gt;,&lt;span class=&#34;number&#34;&gt;99681&lt;/span&gt;,&lt;span class=&#34;number&#34;&gt;100193&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;數字&lt;span class=&#34;number&#34;&gt;3&lt;/span&gt;分佈&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;number&#34;&gt;100031&lt;/span&gt;,&lt;span class=&#34;number&#34;&gt;99868&lt;/span&gt;,&lt;span class=&#34;number&#34;&gt;100572&lt;/span&gt;,&lt;span class=&#34;number&#34;&gt;99418&lt;/span&gt;,&lt;span class=&#34;number&#34;&gt;99965&lt;/span&gt;,&lt;span class=&#34;number&#34;&gt;99918&lt;/span&gt;,&lt;span class=&#34;number&#34;&gt;99889&lt;/span&gt;,&lt;span class=&#34;number&#34;&gt;100107&lt;/span&gt;,&lt;span class=&#34;number&#34;&gt;100279&lt;/span&gt;,&lt;span class=&#34;number&#34;&gt;99953&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;數字&lt;span class=&#34;number&#34;&gt;4&lt;/span&gt;分佈&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;number&#34;&gt;100214&lt;/span&gt;,&lt;span class=&#34;number&#34;&gt;99716&lt;/span&gt;,&lt;span class=&#34;number&#34;&gt;100181&lt;/span&gt;,&lt;span class=&#34;number&#34;&gt;100315&lt;/span&gt;,&lt;span class=&#34;number&#34;&gt;99764&lt;/span&gt;,&lt;span class=&#34;number&#34;&gt;99667&lt;/span&gt;,&lt;span class=&#34;number&#34;&gt;100270&lt;/span&gt;,&lt;span class=&#34;number&#34;&gt;99829&lt;/span&gt;,&lt;span class=&#34;number&#34;&gt;99871&lt;/span&gt;,&lt;span class=&#34;number&#34;&gt;100173&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;數字&lt;span class=&#34;number&#34;&gt;5&lt;/span&gt;分佈&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;number&#34;&gt;99952&lt;/span&gt;,&lt;span class=&#34;number&#34;&gt;100282&lt;/span&gt;,&lt;span class=&#34;number&#34;&gt;99670&lt;/span&gt;,&lt;span class=&#34;number&#34;&gt;99642&lt;/span&gt;,&lt;span class=&#34;number&#34;&gt;99919&lt;/span&gt;,&lt;span class=&#34;number&#34;&gt;100401&lt;/span&gt;,&lt;span class=&#34;number&#34;&gt;99785&lt;/span&gt;,&lt;span class=&#34;number&#34;&gt;100627&lt;/span&gt;,&lt;span class=&#34;number&#34;&gt;100215&lt;/span&gt;,&lt;span class=&#34;number&#34;&gt;99507&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;數字&lt;span class=&#34;number&#34;&gt;6&lt;/span&gt;分佈&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;number&#34;&gt;100332&lt;/span&gt;,&lt;span class=&#34;number&#34;&gt;99879&lt;/span&gt;,&lt;span class=&#34;number&#34;&gt;99976&lt;/span&gt;,&lt;span class=&#34;number&#34;&gt;100143&lt;/span&gt;,&lt;span class=&#34;number&#34;&gt;99614&lt;/span&gt;,&lt;span class=&#34;number&#34;&gt;100319&lt;/span&gt;,&lt;span class=&#34;number&#34;&gt;99665&lt;/span&gt;,&lt;span class=&#34;number&#34;&gt;100169&lt;/span&gt;,&lt;span class=&#34;number&#34;&gt;100380&lt;/span&gt;,&lt;span class=&#34;number&#34;&gt;99523&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;數字&lt;span class=&#34;number&#34;&gt;7&lt;/span&gt;分佈&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;number&#34;&gt;99878&lt;/span&gt;,&lt;span class=&#34;number&#34;&gt;100407&lt;/span&gt;,&lt;span class=&#34;number&#34;&gt;99804&lt;/span&gt;,&lt;span class=&#34;number&#34;&gt;99669&lt;/span&gt;,&lt;span class=&#34;number&#34;&gt;100115&lt;/span&gt;,&lt;span class=&#34;number&#34;&gt;99760&lt;/span&gt;,&lt;span class=&#34;number&#34;&gt;100251&lt;/span&gt;,&lt;span class=&#34;number&#34;&gt;99602&lt;/span&gt;,&lt;span class=&#34;number&#34;&gt;100124&lt;/span&gt;,&lt;span class=&#34;number&#34;&gt;100390&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;數字&lt;span class=&#34;number&#34;&gt;8&lt;/span&gt;分佈&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;number&#34;&gt;100104&lt;/span&gt;,&lt;span class=&#34;number&#34;&gt;99888&lt;/span&gt;,&lt;span class=&#34;number&#34;&gt;99876&lt;/span&gt;,&lt;span class=&#34;number&#34;&gt;100575&lt;/span&gt;,&lt;span class=&#34;number&#34;&gt;100181&lt;/span&gt;,&lt;span class=&#34;number&#34;&gt;100229&lt;/span&gt;,&lt;span class=&#34;number&#34;&gt;100083&lt;/span&gt;,&lt;span class=&#34;number&#34;&gt;99398&lt;/span&gt;,&lt;span class=&#34;number&#34;&gt;99632&lt;/span&gt;,&lt;span class=&#34;number&#34;&gt;100034&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;數字&lt;span class=&#34;number&#34;&gt;9&lt;/span&gt;分佈&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;number&#34;&gt;99758&lt;/span&gt;,&lt;span class=&#34;number&#34;&gt;99632&lt;/span&gt;,&lt;span class=&#34;number&#34;&gt;99929&lt;/span&gt;,&lt;span class=&#34;number&#34;&gt;99860&lt;/span&gt;,&lt;span class=&#34;number&#34;&gt;100196&lt;/span&gt;,&lt;span class=&#34;number&#34;&gt;99972&lt;/span&gt;,&lt;span class=&#34;number&#34;&gt;99582&lt;/span&gt;,&lt;span class=&#34;number&#34;&gt;100052&lt;/span&gt;,&lt;span class=&#34;number&#34;&gt;100453&lt;/span&gt;,&lt;span class=&#34;number&#34;&gt;100566&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;

&lt;p&gt;但為何只要這樣交換，就是隨機排序？ 🤔&lt;/p&gt;
&lt;h2 id=&#34;不嚴謹的證明&#34;&gt;&lt;a href=&#34;#不嚴謹的證明&#34; class=&#34;headerlink&#34; title=&#34;不嚴謹的證明&#34;&gt;&lt;/a&gt;不嚴謹的證明&lt;/h2&gt;&lt;p&gt;已知N=1或2時，使用此法皆可使陣列為隨機排序。&lt;br&gt;若N=n時成立，考慮N=n+1時的情況：&lt;br&gt;Without loss of generality，令陣列為[0, 1, 2, …, n]&lt;br&gt;第一個位置的數0會和後面的隨機一個元素交換，此時第一個位置是0到n的數的機率是平均的 $P_0(v)=\frac{1}{n+1}, v \in {0, 1, 2, .. n}$&lt;br&gt;此時子陣列(&lt;code&gt;[1:]&lt;/code&gt;)即為N=n的情況，依照假設，使用此法後，其餘數字會是隨機排序，&lt;br&gt;所以N=n+1時也成立。&lt;br&gt;依數學歸納法，N=1,2時成立，且N=n成立時，N=n+1也成立；所以N為自然數時，使用此法皆可使陣列為隨機排序。$\blacksquare$&lt;/p&gt;
&lt;hr&gt;
&lt;p&gt;一個更直觀的解釋是，每一次交換都是在隨機選擇剩下還沒選的值。&lt;/p&gt;
&lt;h2 id=&#34;錯誤版本&#34;&gt;&lt;a href=&#34;#錯誤版本&#34; class=&#34;headerlink&#34; title=&#34;錯誤版本&#34;&gt;&lt;/a&gt;錯誤版本&lt;/h2&gt;&lt;figure class=&#34;highlight reasonml&#34;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&#34;code&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;constructor&#34;&gt;WrongShuffle(Array &lt;span class=&#34;params&#34;&gt;a&lt;/span&gt;)&lt;/span&gt;&amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;    N = a.length&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;    for (i = &lt;span class=&#34;number&#34;&gt;0&lt;/span&gt; ~ N-&lt;span class=&#34;number&#34;&gt;1&lt;/span&gt;)&amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;        &lt;span class=&#34;constructor&#34;&gt;Swap(&lt;span class=&#34;params&#34;&gt;a&lt;/span&gt;[&lt;span class=&#34;params&#34;&gt;i&lt;/span&gt;], &lt;span class=&#34;params&#34;&gt;a&lt;/span&gt;[Random &lt;span class=&#34;params&#34;&gt;value&lt;/span&gt; &lt;span class=&#34;params&#34;&gt;between&lt;/span&gt; 0 &lt;span class=&#34;params&#34;&gt;and&lt;/span&gt; N])&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;    &amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&amp;#125;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;

&lt;p&gt;此版本的所有元素對陣列中的一個元素交換&lt;br&gt;雖然接近，但不是隨機排序&lt;/p&gt;
&lt;figure class=&#34;highlight angelscript&#34;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&#34;code&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;數字&lt;span class=&#34;number&#34;&gt;0&lt;/span&gt;分佈&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;number&#34;&gt;99993&lt;/span&gt;,&lt;span class=&#34;number&#34;&gt;100886&lt;/span&gt;,&lt;span class=&#34;number&#34;&gt;99773&lt;/span&gt;,&lt;span class=&#34;number&#34;&gt;100749&lt;/span&gt;,&lt;span class=&#34;number&#34;&gt;100077&lt;/span&gt;,&lt;span class=&#34;number&#34;&gt;99675&lt;/span&gt;,&lt;span class=&#34;number&#34;&gt;99556&lt;/span&gt;,&lt;span class=&#34;number&#34;&gt;99589&lt;/span&gt;,&lt;span class=&#34;number&#34;&gt;99798&lt;/span&gt;,&lt;span class=&#34;number&#34;&gt;99904&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;數字&lt;span class=&#34;number&#34;&gt;1&lt;/span&gt;分佈&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;number&#34;&gt;128185&lt;/span&gt;,&lt;span class=&#34;number&#34;&gt;93869&lt;/span&gt;,&lt;span class=&#34;number&#34;&gt;94816&lt;/span&gt;,&lt;span class=&#34;number&#34;&gt;95112&lt;/span&gt;,&lt;span class=&#34;number&#34;&gt;96020&lt;/span&gt;,&lt;span class=&#34;number&#34;&gt;96324&lt;/span&gt;,&lt;span class=&#34;number&#34;&gt;97355&lt;/span&gt;,&lt;span class=&#34;number&#34;&gt;98316&lt;/span&gt;,&lt;span class=&#34;number&#34;&gt;99545&lt;/span&gt;,&lt;span class=&#34;number&#34;&gt;100458&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;數字&lt;span class=&#34;number&#34;&gt;2&lt;/span&gt;分佈&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;number&#34;&gt;120180&lt;/span&gt;,&lt;span class=&#34;number&#34;&gt;124118&lt;/span&gt;,&lt;span class=&#34;number&#34;&gt;89932&lt;/span&gt;,&lt;span class=&#34;number&#34;&gt;91055&lt;/span&gt;,&lt;span class=&#34;number&#34;&gt;91953&lt;/span&gt;,&lt;span class=&#34;number&#34;&gt;92791&lt;/span&gt;,&lt;span class=&#34;number&#34;&gt;94813&lt;/span&gt;,&lt;span class=&#34;number&#34;&gt;96518&lt;/span&gt;,&lt;span class=&#34;number&#34;&gt;98183&lt;/span&gt;,&lt;span class=&#34;number&#34;&gt;100457&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;數字&lt;span class=&#34;number&#34;&gt;3&lt;/span&gt;分佈&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;number&#34;&gt;112478&lt;/span&gt;,&lt;span class=&#34;number&#34;&gt;115941&lt;/span&gt;,&lt;span class=&#34;number&#34;&gt;120497&lt;/span&gt;,&lt;span class=&#34;number&#34;&gt;86991&lt;/span&gt;,&lt;span class=&#34;number&#34;&gt;88766&lt;/span&gt;,&lt;span class=&#34;number&#34;&gt;90575&lt;/span&gt;,&lt;span class=&#34;number&#34;&gt;92353&lt;/span&gt;,&lt;span class=&#34;number&#34;&gt;94732&lt;/span&gt;,&lt;span class=&#34;number&#34;&gt;97465&lt;/span&gt;,&lt;span class=&#34;number&#34;&gt;100202&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;數字&lt;span class=&#34;number&#34;&gt;4&lt;/span&gt;分佈&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;number&#34;&gt;104476&lt;/span&gt;,&lt;span class=&#34;number&#34;&gt;109125&lt;/span&gt;,&lt;span class=&#34;number&#34;&gt;113448&lt;/span&gt;,&lt;span class=&#34;number&#34;&gt;119119&lt;/span&gt;,&lt;span class=&#34;number&#34;&gt;85554&lt;/span&gt;,&lt;span class=&#34;number&#34;&gt;88077&lt;/span&gt;,&lt;span class=&#34;number&#34;&gt;90897&lt;/span&gt;,&lt;span class=&#34;number&#34;&gt;92827&lt;/span&gt;,&lt;span class=&#34;number&#34;&gt;96727&lt;/span&gt;,&lt;span class=&#34;number&#34;&gt;99750&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;數字&lt;span class=&#34;number&#34;&gt;5&lt;/span&gt;分佈&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;number&#34;&gt;97764&lt;/span&gt;,&lt;span class=&#34;number&#34;&gt;101507&lt;/span&gt;,&lt;span class=&#34;number&#34;&gt;106920&lt;/span&gt;,&lt;span class=&#34;number&#34;&gt;112440&lt;/span&gt;,&lt;span class=&#34;number&#34;&gt;118047&lt;/span&gt;,&lt;span class=&#34;number&#34;&gt;85835&lt;/span&gt;,&lt;span class=&#34;number&#34;&gt;89281&lt;/span&gt;,&lt;span class=&#34;number&#34;&gt;92036&lt;/span&gt;,&lt;span class=&#34;number&#34;&gt;96476&lt;/span&gt;,&lt;span class=&#34;number&#34;&gt;99694&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;數字&lt;span class=&#34;number&#34;&gt;6&lt;/span&gt;分佈&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;number&#34;&gt;91910&lt;/span&gt;,&lt;span class=&#34;number&#34;&gt;96017&lt;/span&gt;,&lt;span class=&#34;number&#34;&gt;101046&lt;/span&gt;,&lt;span class=&#34;number&#34;&gt;105743&lt;/span&gt;,&lt;span class=&#34;number&#34;&gt;112624&lt;/span&gt;,&lt;span class=&#34;number&#34;&gt;119489&lt;/span&gt;,&lt;span class=&#34;number&#34;&gt;87594&lt;/span&gt;,&lt;span class=&#34;number&#34;&gt;91230&lt;/span&gt;,&lt;span class=&#34;number&#34;&gt;94797&lt;/span&gt;,&lt;span class=&#34;number&#34;&gt;99550&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;數字&lt;span class=&#34;number&#34;&gt;7&lt;/span&gt;分佈&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;number&#34;&gt;86177&lt;/span&gt;,&lt;span class=&#34;number&#34;&gt;90650&lt;/span&gt;,&lt;span class=&#34;number&#34;&gt;96260&lt;/span&gt;,&lt;span class=&#34;number&#34;&gt;101089&lt;/span&gt;,&lt;span class=&#34;number&#34;&gt;107061&lt;/span&gt;,&lt;span class=&#34;number&#34;&gt;113865&lt;/span&gt;,&lt;span class=&#34;number&#34;&gt;120411&lt;/span&gt;,&lt;span class=&#34;number&#34;&gt;90146&lt;/span&gt;,&lt;span class=&#34;number&#34;&gt;94617&lt;/span&gt;,&lt;span class=&#34;number&#34;&gt;99724&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;數字&lt;span class=&#34;number&#34;&gt;8&lt;/span&gt;分佈&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;number&#34;&gt;81888&lt;/span&gt;,&lt;span class=&#34;number&#34;&gt;86070&lt;/span&gt;,&lt;span class=&#34;number&#34;&gt;90840&lt;/span&gt;,&lt;span class=&#34;number&#34;&gt;96392&lt;/span&gt;,&lt;span class=&#34;number&#34;&gt;101840&lt;/span&gt;,&lt;span class=&#34;number&#34;&gt;109008&lt;/span&gt;,&lt;span class=&#34;number&#34;&gt;115726&lt;/span&gt;,&lt;span class=&#34;number&#34;&gt;124044&lt;/span&gt;,&lt;span class=&#34;number&#34;&gt;93945&lt;/span&gt;,&lt;span class=&#34;number&#34;&gt;100247&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;數字&lt;span class=&#34;number&#34;&gt;9&lt;/span&gt;分佈&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;number&#34;&gt;76949&lt;/span&gt;,&lt;span class=&#34;number&#34;&gt;81817&lt;/span&gt;,&lt;span class=&#34;number&#34;&gt;86468&lt;/span&gt;,&lt;span class=&#34;number&#34;&gt;91310&lt;/span&gt;,&lt;span class=&#34;number&#34;&gt;98058&lt;/span&gt;,&lt;span class=&#34;number&#34;&gt;104361&lt;/span&gt;,&lt;span class=&#34;number&#34;&gt;112014&lt;/span&gt;,&lt;span class=&#34;number&#34;&gt;120562&lt;/span&gt;,&lt;span class=&#34;number&#34;&gt;128447&lt;/span&gt;,&lt;span class=&#34;number&#34;&gt;100014&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;

&lt;p&gt;為何不是隨機排序？ 🤔 目前想不到直觀解釋&lt;/p&gt;
&lt;p&gt;參考維基的證明：&lt;br&gt;總共有$n^n$種選法，但可能的排列只有$n!$種，在$n&amp;gt;2$時並不能整除&lt;/p&gt;
&lt;h2 id=&#34;更簡單的實作&#34;&gt;&lt;a href=&#34;#更簡單的實作&#34; class=&#34;headerlink&#34; title=&#34;更簡單的實作&#34;&gt;&lt;/a&gt;更簡單的實作&lt;/h2&gt;&lt;p&gt;對每個index設一隨機數，對隨機數排序&lt;br&gt;時間複雜度為$O(n\log n)$&lt;/p&gt;
&lt;h2 id=&#34;各語言Shuffle實作&#34;&gt;&lt;a href=&#34;#各語言Shuffle實作&#34; class=&#34;headerlink&#34; title=&#34;各語言Shuffle實作&#34;&gt;&lt;/a&gt;各語言Shuffle實作&lt;/h2&gt;&lt;p&gt;都是Fisher-Yates&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;span class=&#34;exturl&#34; data-url=&#34;aHR0cHM6Ly9naXRodWIuY29tL3B5dGhvbi9jcHl0aG9uL2Jsb2IvY2IwNzQ4ZDM5MzljMzExNjhhYjVkM2I4MGUzNjc3NDk0NDk3ZDVlMy9MaWIvcmFuZG9tLnB5I0wyODY=&#34;&gt;Python&lt;i class=&#34;fa fa-external-link-alt&#34;&gt;&lt;/i&gt;&lt;/span&gt;&lt;/li&gt;
&lt;li&gt;&lt;span class=&#34;exturl&#34; data-url=&#34;aHR0cHM6Ly9naXRodWIuY29tL2dvb2dsZS9saWJjeHgvYmxvYi8yN2M4MzZmZjNhOWM1MDVkZWI5ZmQxNjE2MDEyOTI0ZGU4ZmY5Mjc5L2luY2x1ZGUvYWxnb3JpdGhtI0wyNzg3&#34;&gt;LLVM C++&lt;i class=&#34;fa fa-external-link-alt&#34;&gt;&lt;/i&gt;&lt;/span&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&#34;Reference&#34;&gt;&lt;a href=&#34;#Reference&#34; class=&#34;headerlink&#34; title=&#34;Reference&#34;&gt;&lt;/a&gt;Reference&lt;/h2&gt;&lt;ul&gt;
&lt;li&gt;&lt;span class=&#34;exturl&#34; data-url=&#34;aHR0cHM6Ly9lbi53aWtpcGVkaWEub3JnL3dpa2kvRmlzaGVyJUUyJTgwJTkzWWF0ZXNfc2h1ZmZsZQ==&#34;&gt;Wiki&lt;i class=&#34;fa fa-external-link-alt&#34;&gt;&lt;/i&gt;&lt;/span&gt;&lt;/li&gt;
&lt;li&gt;&lt;span class=&#34;exturl&#34; data-url=&#34;aHR0cHM6Ly9wZW9wbGUuY3MudW1hc3MuZWR1L35waGFhcy9DUzU5ME0vaGFuZG91dHMvRmlzaGVyLVlhdGVzLXByb29mLnBkZg==&#34;&gt;https://people.cs.umass.edu/~phaas/CS590M/handouts/Fisher-Yates-proof.pdf&lt;i class=&#34;fa fa-external-link-alt&#34;&gt;&lt;/i&gt;&lt;/span&gt;&lt;/li&gt;
&lt;li&gt;&lt;span class=&#34;exturl&#34; data-url=&#34;aHR0cHM6Ly9jcy5zdGFja2V4Y2hhbmdlLmNvbS9xdWVzdGlvbnMvMjE1Mi9ob3ctdG8tcHJvdmUtY29ycmVjdG5lc3Mtb2YtYS1zaHVmZmxlLWFsZ29yaXRobQ==&#34;&gt;https://cs.stackexchange.com/questions/2152/how-to-prove-correctness-of-a-shuffle-algorithm&lt;i class=&#34;fa fa-external-link-alt&#34;&gt;&lt;/i&gt;&lt;/span&gt;&lt;/li&gt;
&lt;/ul&gt;
</content>
        <category term="演算法" />
        <category term="隨機排序" />
        <category term="洗牌" />
        <category term="Fisher-Yates" />
        <category term="證明" />
        <updated>2022-01-15T10:12:50.000Z</updated>
    </entry>
</feed>
