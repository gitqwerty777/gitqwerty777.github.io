{
    "version": "https://jsonfeed.org/version/1",
    "title": "QWERTY • All posts by \"網誌\" tag",
    "description": "Programming | Computer Science | Thought",
    "home_page_url": "http://gitqwerty777.github.io",
    "items": [
        {
            "id": "http://gitqwerty777.github.io/build-hexo-blog/",
            "url": "http://gitqwerty777.github.io/build-hexo-blog/",
            "title": "用Hexo建立一個網誌",
            "date_published": "2014-05-22T15:54:21.000Z",
            "content_html": "<blockquote>\n<p>此為hexo2的時候寫的介紹，已過時</p>\n</blockquote>\n<h2 id=\"簡介\"><a href=\"#簡介\" class=\"headerlink\" title=\"簡介\"></a>簡介</h2><p>hexo是一個可以使用<span class=\"exturl\" data-url=\"aHR0cDovL21hcmtkb3duLnR3Lw==\">Markdown<i class=\"fa fa-external-link-alt\"></i></span>語法產生靜態頁面的部落格工具。<br>可以配合<span class=\"exturl\" data-url=\"aHR0cHM6Ly9wYWdlcy5naXRodWIuY29tLw==\">github page<i class=\"fa fa-external-link-alt\"></i></span>快速建立一個部落格。</p>\n<a id=\"more\"></a>\n\n<p>安裝環境：Ubuntu16.04</p>\n<h3 id=\"安裝nvm和hexo\"><a href=\"#安裝nvm和hexo\" class=\"headerlink\" title=\"安裝nvm和hexo\"></a>安裝nvm和hexo</h3><figure class=\"highlight bash\"><table><tr><td class=\"code\"><pre><span class=\"line\">sudo apt-get install nvm</span><br><span class=\"line\">sudo nvm install hexo -g</span><br></pre></td></tr></table></figure>\n\n<p><strong>可能會遇到的問題</strong>:<span class=\"exturl\" data-url=\"aHR0cDovL3N0YWNrb3ZlcmZsb3cuY29tL2EvMTk1ODQ0MDcvMjY3ODk3MA==\">node或nvm版本過低<i class=\"fa fa-external-link-alt\"></i></span> </p>\n<h3 id=\"初始化hexo\"><a href=\"#初始化hexo\" class=\"headerlink\" title=\"初始化hexo\"></a>初始化hexo</h3><p><code>hexo init [folder]</code></p>\n<p>若不加[folder]則在當前目錄 </p>\n<p><code>cd [folder]</code><br><code>npm install</code></p>\n<h3 id=\"常用命令\"><a href=\"#常用命令\" class=\"headerlink\" title=\"常用命令\"></a>常用命令</h3><figure class=\"highlight bash\"><table><tr><td class=\"code\"><pre><span class=\"line\">hexo n</span><br><span class=\"line\">hexo new [layout] [title]</span><br></pre></td></tr></table></figure>\n\n<table>\n<thead>\n<tr>\n<th>Layout</th>\n<th>存放資料夾</th>\n<th>格式</th>\n<th>範例</th>\n</tr>\n</thead>\n<tbody><tr>\n<td>post (預設)</td>\n<td>source/_posts</td>\n<td>動態頁面</td>\n<td>source/_posts/new-post.md</td>\n</tr>\n<tr>\n<td>page</td>\n<td>source</td>\n<td>靜態頁面</td>\n<td>source/new-page/index.html</td>\n</tr>\n<tr>\n<td>draft</td>\n<td>source/_drafts</td>\n<td>草稿</td>\n<td>source/_drafts/new-draft.md</td>\n</tr>\n</tbody></table>\n<p>靜態頁面用於不常更改，不希望受theme影響的頁面<br>.md格式代表使用markdown語法</p>\n<figure class=\"highlight bash\"><table><tr><td class=\"code\"><pre><span class=\"line\">hexo g (= hexo generate)</span><br><span class=\"line\"><span class=\"comment\"># 用於建造網頁的時候，hexo會將markdown格式編譯成html格式</span></span><br><span class=\"line\">hexo g --watch  </span><br><span class=\"line\"><span class=\"comment\"># 使用此命令後，重開hexo，可以使hexo偵測檔案變更，並自動generate </span></span><br><span class=\"line\">hexo s (= hexo server)</span><br><span class=\"line\"><span class=\"comment\"># 在本地預覽網站 - 預設在&lt;http://localhost:4000/&gt;</span></span><br><span class=\"line\">hexo s -d</span><br><span class=\"line\"><span class=\"comment\"># 在預覽的時候同時看到在草稿的文章</span></span><br><span class=\"line\">hexo d (hexo deploy) </span><br><span class=\"line\"><span class=\"comment\"># 發佈網站至設定的網址，網站會真正更新</span></span><br><span class=\"line\">hexo g -d</span><br><span class=\"line\"><span class=\"comment\"># 先generate再deploy</span></span><br><span class=\"line\">hexo publish [filename] (= hexo p [filename])</span><br><span class=\"line\"><span class=\"comment\"># 將檔案(從草稿)移至/post</span></span><br></pre></td></tr></table></figure>\n\n<h2 id=\"設定檔更改\"><a href=\"#設定檔更改\" class=\"headerlink\" title=\"設定檔更改\"></a>設定檔更改</h2><p>於初始化資料夾中的<code>_config.yml</code><br>此為YAML格式，不可使用tab字元</p>\n<p>僅列出重要的設定，<span class=\"exturl\" data-url=\"aHR0cDovL2licnVjZS5pbmZvLzIwMTMvMTEvMjIvaGV4by15b3VyLWJsb2cv\">全部設定內容<i class=\"fa fa-external-link-alt\"></i></span>  </p>\n<h3 id=\"Site\"><a href=\"#Site\" class=\"headerlink\" title=\"Site\"></a>Site</h3><p><strong>title</strong> 部落格標題<br><strong>subtitle</strong> 副標題<br><strong>description</strong> 關於此部落格</p>\n<h3 id=\"URL\"><a href=\"#URL\" class=\"headerlink\" title=\"URL\"></a>URL</h3><p><strong>url</strong> 你的部落格網址<br><strong>permalink</strong> 文章的子網址格式，預設為:year/:month/:day/:title/  <span class=\"exturl\" data-url=\"aHR0cDovL2hleG8uaW8vZG9jcy9wZXJtYWxpbmtzLmh0bWw=\">參考變數名<i class=\"fa fa-external-link-alt\"></i></span>  </p>\n<h3 id=\"Writing\"><a href=\"#Writing\" class=\"headerlink\" title=\"Writing\"></a>Writing</h3><p><strong>new_post_name</strong> 新建立的post名稱格式，個人使用:year:month:day:title.md<br><strong>auto_spacing</strong> 在亞州文字和西方文字之間加上空白<br><strong>highlight</strong> 程式的高亮加註</p>\n<h3 id=\"Archives\"><a href=\"#Archives\" class=\"headerlink\" title=\"Archives\"></a>Archives</h3><p>開啟/關閉 archive, category, tag 的換頁功能   </p>\n<h3 id=\"Pagination\"><a href=\"#Pagination\" class=\"headerlink\" title=\"Pagination\"></a>Pagination</h3><p><strong>per_page</strong> 一頁幾篇文章(0 = 不分頁)</p>\n<h3 id=\"Markdown\"><a href=\"#Markdown\" class=\"headerlink\" title=\"Markdown\"></a>Markdown</h3><p>hexo markdown parser 支援 github 語法(GitHub Flavored Markdown)<br><span class=\"exturl\" data-url=\"aHR0cHM6Ly9oZWxwLmdpdGh1Yi5jb20vYXJ0aWNsZXMvZ2l0aHViLWZsYXZvcmVkLW1hcmtkb3duLw==\">https://help.github.com/articles/github-flavored-markdown/<i class=\"fa fa-external-link-alt\"></i></span>  </p>\n<h3 id=\"Extensions\"><a href=\"#Extensions\" class=\"headerlink\" title=\"Extensions\"></a>Extensions</h3><p><strong>theme</strong> 主題名稱</p>\n<h3 id=\"Deploy\"><a href=\"#Deploy\" class=\"headerlink\" title=\"Deploy\"></a>Deploy</h3><p><strong>type</strong>: 發佈的目標格式，目前使用github<br><strong>repository</strong>: <span class=\"exturl\" data-url=\"bWFpbHRvOmdpdEBnaXRodWIuY29t\">git@github.com<i class=\"fa fa-external-link-alt\"></i></span>: [github帳號]</p>\n<h2 id=\"主題\"><a href=\"#主題\" class=\"headerlink\" title=\"主題\"></a>主題</h2><h3 id=\"套用主題-pacman\"><a href=\"#套用主題-pacman\" class=\"headerlink\" title=\"套用主題(pacman)\"></a>套用主題(pacman)</h3><p><code>git clone git@github.com:A-limon/pacman.git themes/pacman</code>  </p>\n<p>同時_config.yml也要更新: <code>theme: pacman</code>  </p>\n<p>註：pacman已停止更新，現在有<span class=\"exturl\" data-url=\"aHR0cDovL3d1Y2hvbmcubWUvYmxvZy8yMDE0LzExLzIwL2hvdy10by11c2UtamFjbWFuLw==\">jacman<i class=\"fa fa-external-link-alt\"></i></span>替代</p>\n<h3 id=\"更新主題\"><a href=\"#更新主題\" class=\"headerlink\" title=\"更新主題\"></a>更新主題</h3><figure class=\"highlight bash\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"built_in\">cd</span> themes/pacman</span><br><span class=\"line\">git pull</span><br></pre></td></tr></table></figure>\n\n<p>可先備份設定檔<code>_config.yml</code>  </p>\n<h3 id=\"修改主題\"><a href=\"#修改主題\" class=\"headerlink\" title=\"修改主題\"></a>修改主題</h3><p>修改主題後, 要先清除現有生成的主題文件，才會正確顯示  </p>\n<figure class=\"highlight bash\"><table><tr><td class=\"code\"><pre><span class=\"line\">hexo clean</span><br><span class=\"line\">hexo generate</span><br></pre></td></tr></table></figure>\n\n<h2 id=\"擴充功能\"><a href=\"#擴充功能\" class=\"headerlink\" title=\"擴充功能\"></a>擴充功能</h2><h3 id=\"為Hexo增加Google-Analytics\"><a href=\"#為Hexo增加Google-Analytics\" class=\"headerlink\" title=\"為Hexo增加Google Analytics\"></a>為Hexo增加Google Analytics</h3><p>在Analytics中添加自己的網站域名，獲得JS追蹤代碼。<br>把JS代碼Copy到Hexo的after_footer文件中，after_footer是Hexo主題頁腳的JS代碼文檔，具體位置在<code>/themes/[themename]/layout/_partial</code><br>然後重新生成、發佈Hexo。數據統計不會立即生效，需要等待幾個小時，之後登錄Google Analytics就可以查看你的Blog的數據</p>\n<h3 id=\"瀏覽量\"><a href=\"#瀏覽量\" class=\"headerlink\" title=\"瀏覽量\"></a>瀏覽量</h3><ul>\n<li>Google Analytics</li>\n<li><span class=\"exturl\" data-url=\"aHR0cDovL2NyZXNjZW50bW9vbi5pbmZvLzIwMTQvMTIvMTEvcG9wdWxhci13aWRnZXQv\">用leancloud計算瀏覽量<i class=\"fa fa-external-link-alt\"></i></span><br>在pacman的主題下，after_footer.ejs 需要修改成：</li>\n</ul>\n<figure class=\"highlight javascript\"><table><tr><td class=\"code\"><pre><span class=\"line\">&lt;!--page counter part--&gt;</span><br><span class=\"line\">&lt;script&gt;</span><br><span class=\"line\"><span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">addCount</span> (<span class=\"params\">Counter</span>) </span>&#123;</span><br><span class=\"line\">        url=$(<span class=\"string\">'.mytitle'</span>).attr(<span class=\"string\">'href'</span>).trim();</span><br><span class=\"line\">        title = $(<span class=\"string\">'.article-title'</span>).text().trim();</span><br><span class=\"line\">        <span class=\"keyword\">var</span> query=<span class=\"keyword\">new</span> AV.Query(Counter);</span><br><span class=\"line\">        <span class=\"comment\">//use url as unique idnetfication</span></span><br><span class=\"line\">        query.equalTo(<span class=\"string\">\"url\"</span>,url);</span><br><span class=\"line\">        query.find(&#123;</span><br><span class=\"line\">            success: <span class=\"function\"><span class=\"keyword\">function</span>(<span class=\"params\">results</span>)</span>&#123;</span><br><span class=\"line\">                <span class=\"keyword\">if</span>(results.length&gt;<span class=\"number\">0</span>)</span><br><span class=\"line\">                &#123;</span><br><span class=\"line\">                    <span class=\"keyword\">var</span> counter=results[<span class=\"number\">0</span>];</span><br><span class=\"line\">                    counter.fetchWhenSave(<span class=\"literal\">true</span>); <span class=\"comment\">//get recent result</span></span><br><span class=\"line\">                    counter.increment(<span class=\"string\">\"time\"</span>);</span><br><span class=\"line\">                    counter.save();</span><br><span class=\"line\">                &#125;</span><br><span class=\"line\">                <span class=\"keyword\">else</span></span><br><span class=\"line\">                &#123;</span><br><span class=\"line\">                    <span class=\"keyword\">var</span> newcounter=<span class=\"keyword\">new</span> Counter();</span><br><span class=\"line\">                    newcounter.set(<span class=\"string\">\"title\"</span>,title);</span><br><span class=\"line\">                    newcounter.set(<span class=\"string\">\"url\"</span>,url);</span><br><span class=\"line\">                    newcounter.set(<span class=\"string\">\"time\"</span>,<span class=\"number\">1</span>);</span><br><span class=\"line\">                    newcounter.save(<span class=\"literal\">null</span>,&#123;</span><br><span class=\"line\">                        success: <span class=\"function\"><span class=\"keyword\">function</span>(<span class=\"params\">newcounter</span>)</span>&#123;</span><br><span class=\"line\">                        <span class=\"comment\">//alert('New object created');</span></span><br><span class=\"line\">                        &#125;,</span><br><span class=\"line\">                        error: <span class=\"function\"><span class=\"keyword\">function</span>(<span class=\"params\">newcounter,error</span>)</span>&#123;</span><br><span class=\"line\">                        alert(<span class=\"string\">'Failed to create'</span>);</span><br><span class=\"line\">                        &#125;</span><br><span class=\"line\">                        &#125;);</span><br><span class=\"line\">                &#125;</span><br><span class=\"line\">            &#125;,</span><br><span class=\"line\">            error: <span class=\"function\"><span class=\"keyword\">function</span>(<span class=\"params\">error</span>)</span>&#123;</span><br><span class=\"line\">                <span class=\"comment\">//find null is not a error</span></span><br><span class=\"line\">                alert(<span class=\"string\">'Error:'</span>+error.code+<span class=\"string\">\" \"</span>+error.message);</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">        &#125;);</span><br><span class=\"line\">&#125;</span><br><span class=\"line\">$(<span class=\"function\"><span class=\"keyword\">function</span>(<span class=\"params\"></span>)</span>&#123;</span><br><span class=\"line\">        <span class=\"keyword\">var</span> Counter=AV.Object.extend(<span class=\"string\">\"Counter\"</span>);</span><br><span class=\"line\">        <span class=\"comment\">//only increse visit counting when intering a page</span></span><br><span class=\"line\">        <span class=\"keyword\">if</span> ($(<span class=\"string\">'.article-title'</span>).length == <span class=\"number\">1</span>)</span><br><span class=\"line\">           addCount(Counter);</span><br><span class=\"line\">        <span class=\"keyword\">var</span> query=<span class=\"keyword\">new</span> AV.Query(Counter);</span><br><span class=\"line\">        query.descending(<span class=\"string\">\"time\"</span>);</span><br><span class=\"line\">        <span class=\"comment\">// the sum of popular posts</span></span><br><span class=\"line\">        query.limit(<span class=\"number\">10</span>); </span><br><span class=\"line\">        query.find(&#123;</span><br><span class=\"line\">            success: <span class=\"function\"><span class=\"keyword\">function</span>(<span class=\"params\">results</span>)</span>&#123;</span><br><span class=\"line\">\t\t\t\t</span><br><span class=\"line\">                    <span class=\"keyword\">for</span>(<span class=\"keyword\">var</span> i=<span class=\"number\">0</span>;i&lt;results.length;i++)    </span><br><span class=\"line\">                    &#123;</span><br><span class=\"line\">\t\t\t\t\t\talert(results[i]);</span><br><span class=\"line\">                        <span class=\"keyword\">var</span> counter=results[i];</span><br><span class=\"line\">                        title=counter.get(<span class=\"string\">\"title\"</span>);</span><br><span class=\"line\">                        url=counter.get(<span class=\"string\">\"url\"</span>);</span><br><span class=\"line\">                        time=counter.get(<span class=\"string\">\"time\"</span>);</span><br><span class=\"line\">                        <span class=\"comment\">// add to the popularlist widget</span></span><br><span class=\"line\">                        showcontent=title+<span class=\"string\">\" (\"</span>+time+<span class=\"string\">\")\"</span>;</span><br><span class=\"line\">                        <span class=\"comment\">//notice the \"\" in href</span></span><br><span class=\"line\">                        $(<span class=\"string\">'.popularlist'</span>).append(<span class=\"string\">'&lt;li&gt;&lt;a href=\"'</span>+url+<span class=\"string\">'\"&gt;'</span>+showcontent+<span class=\"string\">'&lt;/a&gt;&lt;/li&gt;'</span>);</span><br><span class=\"line\">                    &#125;</span><br><span class=\"line\">                &#125;,</span><br><span class=\"line\">            error: <span class=\"function\"><span class=\"keyword\">function</span>(<span class=\"params\">error</span>)</span>&#123;</span><br><span class=\"line\">                alert(<span class=\"string\">\"Error:\"</span>+error.code+<span class=\"string\">\" \"</span>+error.message);</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">        )</span><br><span class=\"line\">        &#125;);</span><br><span class=\"line\">&lt;<span class=\"regexp\">/script&gt;</span></span><br></pre></td></tr></table></figure>\n\n<ul>\n<li><span class=\"exturl\" data-url=\"aHR0cDovL213c2hlbi5pbmZvLzIwMTQvMTEvMTQvSGV4by1wYWNtYW4lRTQlQjglQkIlRTklQTIlOTglRTUlOTAlQUYlRTclOTQlQThkaXNxdXMv\">將留言區改成disqus<i class=\"fa fa-external-link-alt\"></i></span></li>\n<li><span class=\"exturl\" data-url=\"aHR0cDovL3dzZ3phby5naXRodWIuaW8vcG9zdC9oZXhvLXNjcm9sbC10by10b3Av\">回到頂部功能<i class=\"fa fa-external-link-alt\"></i></span>  </li>\n</ul>\n<h3 id=\"數學公式\"><a href=\"#數學公式\" class=\"headerlink\" title=\"數學公式\"></a>數學公式</h3><p>使用mathjax(適用tex語法)<br><span class=\"exturl\" data-url=\"aHR0cDovL2NhdHgubWUvMjAxNC8wMy8wOS9oZXhvLW1hdGhqYXgtcGx1Z2luLw==\">http://catx.me/2014/03/09/hexo-mathjax-plugin/<i class=\"fa fa-external-link-alt\"></i></span></p>\n<p>需要注意的是若有兩個底線<code>_</code>，會變斜體，這是原有的markdown語法之一…<br>解決方法：用<br><code>{ % math-block % } 和 { % endmath-block % }</code><br>包覆數學公式</p>\n<p>hexo2是math-block, hexo3是math_block</p>\n<p>小缺點是會使網頁載入速度變慢(公式的圖片是即時取得的)</p>\n<h3 id=\"圖床\"><a href=\"#圖床\" class=\"headerlink\" title=\"圖床\"></a>圖床</h3><ul>\n<li>網頁端：在hexo的source資料夾建立img資料夾，使用時 <code>[](/img/...)</code></li>\n<li>imgur, google, dropbox…</li>\n</ul>\n<h3 id=\"Hexo-Markdown-格式\"><a href=\"#Hexo-Markdown-格式\" class=\"headerlink\" title=\"Hexo Markdown 格式\"></a>Hexo Markdown 格式</h3><ul>\n<li>一句話結尾空白兩格，才會換行</li>\n<li>標題和符號之間要空白 <code>### Hexo ...</code></li>\n<li>其他和github markdown格式相同</li>\n</ul>\n<h2 id=\"Reference\"><a href=\"#Reference\" class=\"headerlink\" title=\"Reference\"></a>Reference</h2><ul>\n<li>最詳細的hexo懶人包 <span class=\"exturl\" data-url=\"aHR0cDovL2licnVjZS5pbmZvLzIwMTMvMTEvMjIvaGV4by15b3VyLWJsb2cv\">http://ibruce.info/2013/11/22/hexo-your-blog/<i class=\"fa fa-external-link-alt\"></i></span></li>\n<li>提供一些Bug的解決方案 <span class=\"exturl\" data-url=\"aHR0cDovL2pvaG5ueWZlZS5naXRodWIuaW8vMjAxNC8wMy8yMi9oZXhvLw==\">http://johnnyfee.github.io/2014/03/22/hexo/<i class=\"fa fa-external-link-alt\"></i></span></li>\n<li>Markdown寫作淺談 <span class=\"exturl\" data-url=\"aHR0cDovL2ppYW5zaHUuaW8vcC9QcEROTUc=\">http://jianshu.io/p/PpDNMG<i class=\"fa fa-external-link-alt\"></i></span></li>\n<li>Hexo 官網 <span class=\"exturl\" data-url=\"aHR0cHM6Ly9oZXhvLmlvLw==\">https://hexo.io/<i class=\"fa fa-external-link-alt\"></i></span></li>\n</ul>\n",
            "tags": [
                "Hexo",
                "網誌",
                "Markdown"
            ]
        }
    ]
}