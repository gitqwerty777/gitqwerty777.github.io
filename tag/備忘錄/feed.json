{
    "version": "https://jsonfeed.org/version/1",
    "title": "QWERTY • All posts by \"備忘錄\" tag",
    "description": "Programming | Computer Science | Thought",
    "home_page_url": "http://gitqwerty777.github.io",
    "items": [
        {
            "id": "http://gitqwerty777.github.io/mementos-pattern/",
            "url": "http://gitqwerty777.github.io/mementos-pattern/",
            "title": "備忘錄模式(Mementos Pattern)",
            "date_published": "2020-11-05T07:00:00.000Z",
            "content_html": "<p><img data-src=\"/img/Other/morgana.png\" alt=\"\"></p>\n<a id=\"more\"></a>\n\n<h2 id=\"目標\"><a href=\"#目標\" class=\"headerlink\" title=\"目標\"></a>目標</h2><p>在不破壞封裝及單一職責原則的情況下創立/還原類別的備份。</p>\n<p>若要建立備份，簡單的方法是在類別內部建立<code>Save()</code>/<code>Load()</code>等方法，但會使類別多了備份的職責。<br>若在其他類別執行備份，則需要將想備份的資料設為public或設定Getter，破壞封裝。</p>\n<h2 id=\"架構\"><a href=\"#架構\" class=\"headerlink\" title=\"架構\"></a>架構</h2><p><img data-src=\"https://upload.wikimedia.org/wikipedia/commons/3/38/W3sDesign_Memento_Design_Pattern_UML.jpg?1615662505582\" alt=\"\"></p>\n<p>想法：Originator只產生Memento/使用Memento還原, 由Caretaker管理Memento</p>\n<ul>\n<li>Originator: 需要備份的類別，產生Memento並可用其還原<ul>\n<li><code>Memento CreateMemento()</code></li>\n<li><code>void RestoreFromMemento(Memento)</code></li>\n</ul>\n</li>\n<li>Memento: 儲存備份檔案的類別<ul>\n<li>純資料，不可變(immutable)</li>\n</ul>\n</li>\n<li>Caretaker: 管理備份的類別<ul>\n<li>呼叫 Originator 執行 備份/還原的操作</li>\n<li>管理備份<ul>\n<li>存讀檔，路徑</li>\n<li>管理多份備份</li>\n</ul>\n</li>\n</ul>\n</li>\n</ul>\n<h2 id=\"實作\"><a href=\"#實作\" class=\"headerlink\" title=\"實作\"></a>實作</h2><!-- - Memento可以是interface或abstract class，以避免被Originator以外的類別修改 -->\n\n<ul>\n<li>Originator可以hold Caretaker reference使兩個物件的生命周期同步</li>\n</ul>\n<h2 id=\"分析\"><a href=\"#分析\" class=\"headerlink\" title=\"分析\"></a>分析</h2><p>缺點</p>\n<ul>\n<li>Memento會額外占用記憶體</li>\n</ul>\n<h2 id=\"用途\"><a href=\"#用途\" class=\"headerlink\" title=\"用途\"></a>用途</h2><ul>\n<li>備份/還原(存/讀檔)</li>\n</ul>\n<h2 id=\"其他\"><a href=\"#其他\" class=\"headerlink\" title=\"其他\"></a>其他</h2><p>單詞Memento有「印象」、「紀念」的意思，有同名電影譯為「記憶拼圖」，在Persona5譯為「印象空間」</p>\n<h2 id=\"參考資料\"><a href=\"#參考資料\" class=\"headerlink\" title=\"參考資料\"></a>參考資料</h2><ul>\n<li>Wiki</li>\n<li>Head-First Design Pattern</li>\n<li>大話設計模式</li>\n<li>設計模式與遊戲開發的完美結合</li>\n<li><span class=\"exturl\" data-url=\"aHR0cDovL3R3bWh0LmdpdGh1Yi5pby9ibG9nL3Bvc3RzL2Rlc2lnbi1wYXR0ZXJuL21lbWVudG8uaHRtbA==\">http://twmht.github.io/blog/posts/design-pattern/memento.html<i class=\"fa fa-external-link-alt\"></i></span></li>\n</ul>\n<!--TODO: 看三本書,補足 -->",
            "tags": [
                "設計模式",
                "備份",
                "備忘錄",
                "存檔"
            ]
        }
    ]
}